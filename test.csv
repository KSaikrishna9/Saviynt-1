AACS_Access_Import_Dev
AACS_AccessImport_Test
AACS_Accounts_Import_Dev
AACS_AccountsImport_Test
AD_ACCESS_IMPORT
AD_ACCESS_IMPORT_DELTA
AD_DN_UPDATE_ON_USER
AD_IMPORT
AD_IMPORT_AD_DN_CUSTOMQUERY
AD_IMPORT_DELTA
AD_Import_Failure_Custom_Query_job
ADIMPORT_ADDNQUERY_DELTA_TEST
BenchmarkCalculator_Access_Import_Dev
BenchmarkCalculator_Access_Import_Test
BenchmarkCalculator_Account_Import_Dev
BenchmarkCalculator_Account_Import_Test
Box_AccessImport
Box_AccountsImport
Box_Trigger_Chain_Job
Bulk_Role_Removal_Analytics
CA_wsretry_trigger_chain
Campaign_Expiration_Job
Campaign_ProgressRefresh_Job
Campaign_Reminder_Job
Campaign_SendEmail_Job
CAPeople_CP16_Status_Test
CAPeople_DEV_AccountsImport
CAPeople_Test_AccountsImport
CaResearch_AccessImport_Dev
CaResearch_AccessImport_Test
CaResearch_AccountsImport_Dev
CaResearch_AccountsImport_Test
Code_Red_AccessImport_Dev
Code_Red_AccessImport_Test
Code_Red_AccountsImport_Dev
Code_Red_AccountsImport_Test
Conditional_Certify_Custom_Query_Job
Configuration_Contractor Manager CertificationsCRONE
Configuration_User Manager Certs -ScheduleCRONE
ControlCenterAnalyticsJob
ControlCentreHistoryJob
Create_Tasks_for_Future_Role_Requests
CRM_POC_Chain_Job
CRM_POC_IMPORT
CRM_ServiceAssignment_AccessImport_Test
CRM_ServiceAssignment_AccountsImport_Test
CRM_UAT_Chain_Job
CRM_Update_Account_Analytics
CRM_User_Attribute_Update
DefaultArchivalJobTrigger
DefaultEndpointDeltaSyncTrigger
DefaultEndpointSyncTrigger
DefaultRequestRetryJob
DefaultScheduledJBPMRetry
Diligence_Vault_Access_Import_Demo
Diligence_Vault_Account_Import_Demo
Diligence_Vault_AD_Role_Deprovisioning
Dynamics_CRM_ServiceAssignment_AccountsImport__UAT
Dynamics_CRM_ServiceAssignment_TriggerChainJob
Dynamics_CRM_ServiceAssignment_UAT
DynamicsCRM_POC_AccessIMPORT
DynamicsCRM_POC_AccountsIMPORT
DynamicsCRM_UAT_AccountsIMPORT
DynamicsCRM_UAT_IMPORT
DynamicsCRM_UAT_TriggerChain_Job
EMAILJOB
Everest_UAT_AccessImport
Everest_UAT_AccountsImport
EverestDev
EverestDevAccount
ExcelQuant_Access_Import_DEV
ExcelQuant_Access_Import_TEST
ExcelQuant_Account_Import_DEV
ExcelQuant_Account_Import_TEST
IBM_OpenPages_Access_Import
IBM_OpenPages_Account_Import
IGAADM_Active_Directory
IGAADM_Active_Directory_Access_Import
Igloo_Accounts_Import
Igloo_Entitlements_Import
Igloo_Rest_Role_De_Provisioning_Analytics
Igloo_Rest_Role_Provisioning_Analytics
IMDB_DEV_Accountsimport
IMDB_DEV_Entitlementsimport
IMDB_Test_AccessImport
IMDB_Test_Accountsimport
IOI_DB_Access_Import_Dev
IOI_DB_Access_Import_Test
IOI_DB_Accounts_Import_Dev
IOI_DB_Accounts_Import_Test
LiquidityTracker_Test_AccessImport
LiquidityTracker_Test_Accountsimport
LiquidityTrackerDev
LiquidityTrackerDevImport
Manager_Notifications_Gems_AccesImport_Dev
Manager_Notifications_Gems_AccessImport_Test
Manager_Notifications_Gems_AccountsImport_Dev
Manager_Notifications_Gems_AccountsImport_Test
ManagerDocuments_Dev_Access_Import
ManagerDocuments_Dev_Accounts_Import
ManagerDocuments_Test_Access_Import
ManagerDocuments_Test_Accounts_Import
ManagerMeetings_AccessImport_Dev
ManagerMeetings_AccessImport_Test
ManagerMeetings_AccountImport_Dev
ManagerMeetings_AccountImport_Test
ManagerResearchTracker_AccessImport_Dev
ManagerResearchTracker_AccessImport_Test
ManagerResearchTracker_AccountImport_Dev
ManagerResearchTracker_AccountImport_Test
MarketableComments_AccessImport_Dev
MarketableComments_AccessImport_Test
MarketableComments_AccountImport_Dev
MarketableComments_AccountImport_Test
MarketData_AccessImport_Dev
MarketData_AccessImport_Test
MarketData_AccountImport_Dev
MarketData_AccountsImport_Test
MARS_DB_AccessImport_DEV
MARS_DB_AccessImport_Test
MARS_DB_AccountsImport_DEV
MARS_DB_AccountsImport_Test
Mist_AD_DEV_Account_CP27_Update
Mist_AD_Test_Account_CP27_Update
Mist_DB_Dev_Accounts_Import
Mist_DB_Dev_Entitlement_Import
Mist_DB_Test_Accounts_Import
Mist_DB_Test_Entitlement_Import
MIST_DEV_Trigger_Chain_Job
MIST_TEST_Trigger_Chain_Job
OpticaResearch_Dev_AccessImport
OpticaResearch_Dev_AccountImport
OpticaResearch_PISecurityTool_Dev_AccessImport
OpticaResearch_PISecurityTool_Dev_AccountImport
OpticaResearch_PISecurityTool_Test_AccessImport
OpticaResearch_PISecurityTool_Test_AccountImport
OpticaResearch_Test_AccessImport
OpticaResearch_Test_AccountImport
OracleERP_Test_Accessimport
OracleERP_Test_Accountimport
PAM_ADM_SVC_WSRETRY
PAM_IGAADM_Active_Directory
PAMSVC_Access_IMPORT_JOB
PAMSVC_IMPORT_JOB
PAR_DB_DEV_Access_Import
PAR_DB_DEV_Account_Import
PAR_DB_TEST_Access_Import
PAR_DB_TEST_Account_Import
PCDBI_MALT_Manager_Data_Collection_II_AccessImport_Dev
PCDBI_MALT_Manager_Data_Collection_II_AccessImport_Test
PCDBI_MALT_Manager_Data_Collection_II_AccountImport_Dev
PCDBI_MALT_Manager_Data_Collection_II_AccountImport_Test
PI_Input_Tool_Access_Import_DEV
PI_Input_Tool_Access_Import_Test
PI_Input_Tool_AccountsImport_DEV
PI_Input_Tool_AccountsImport_Test
PIOS_AccessImport_Test
PIOS_AccountImport_Test
PIOS_DEV_AccessImport
PIOS_DEV_AccountImport
PIPR_DEV_AccountsImport
PIPR_DEV_EntitlementsImport
PIPR_TEST_AccountsImport
PIPR_TEST_EntitlementsImport
PIQuicklook_Dev_AccessImport
PIQuicklook_Dev_AccountImport
PIQuicklook_Test_AccessImport
PIQuicklook_Test_AccountImport
Pool_Returns_Comparative_Client_Data_Access_Import_Dev
Pool_Returns_Comparative_Client_Data_Access_Import_Test
Pool_Returns_Comparative_Client_Data_Accounts_Import_Dev
Pool_Returns_Comparative_Client_Data_Accounts_Import_Test
Portfolio_Workbench_Dev_Accounts_Import
Portfolio_Workbench_Dev_Entitlement_Import
Portfolio_Workbench_Test_Accounts_Import
Portfolio_Workbench_Test_Entitlement_Import
Private_Investments_Comment_AccessImport_Dev
Private_Investments_Comment_AccessImport_Test
Private_Investments_Comment_AccountImport_Dev
Private_Investments_Comment_AccountImport_Test
Provisioning
RBAC_Role_Source_Update
RBAC_Transfer_Launch_Certification
Revport_Accounts_Import
Revport_Entitlements_Import
Revport_FileTransfer
RoleSync
Run_Detective_Rules_New
RunAnalticsUserEntWorkday
SaviyntForSaviyntAccountsFullImportJobTrigger
SaviyntForSaviyntAccountsImportJobTrigger
SaviyntForSaviyntEntValueImportTrigger
Schema_Entitlement_Import
SOD_Test_Job
test
Test_Connections
Test_Custom_Query
TestQuery
TestWSRetry
Transfer_Cert_Resync
Update_AD_Del_Acc
updateJarConnectorDetail
Vermillion_Access_Import_Dev
Vermillion_Access_Import_UAT
Vermillion_Accounts_Import_UAT
Vermillion_DEV_AccountsImport
Workday_Endpoint_Access_Import
Workday_Endpoint_Accounts_Import
WORKDAY_USERIMPORT
wsretry_temp


=============================
Select e.ENDPOINTNAME as 'Application Name',et.ENTITLEMENTNAME 'Entitlement Type', evh.ENTITLEMENT_VALUE as 'Entitlement',evh.changedField as 'Attribute', evh.oldvalue as 'Old Value',evh.newvalue as 'New Value',evh.createdon as 'Changed On' , evh.requestedby as 'Changed By' from entitlement_values ev left join entitlement_values_history evh on ev.ENTITLEMENT_VALUEKEY=evh.entitlement_valuekey inner join entitlement_types et on et.ENTITLEMENTTYPEKEY=ev.ENTITLEMENTTYPEKEY inner join endpoints e on et.ENDPOINTKEY = e.ENDPOINTKEY order by evh.createdon desc;



=============================================
{
	"DISABLEACCOUNTCHECKRULE": [
		"${user.customproperty6}"
	],
	"USEDNFROMACCOUNT": "YES",
	"MOVEDN": "NO",
	"REMOVEGROUPS": "NO",
	"AFTERMOVEACTIONS": {
		"userAccountControl": "512",
		"employeeNumber": "${user.employeeid!=null?user.employeeid:''}",
		"employeeID": "${user.employeeid!=null?user.employeeid:''}",
		"employeeType": "${user.employeeType!=null?user.employeeType:''}",
		"cn": "${user.displayname!=null?user.displayname:''}",
		"givenName": "${user.firstname!=null?user.firstname:''}",
		"sn": "${user.lastname!=null?user.lastname:''}",
		"displayName":"${user.customproperty4='Contingent Worker'?user.displayname+' (Contractor)':user.displayname}",
		"department": "${user.costcenter!=null?user.costcenter:''}",
		"title": "${user.title!=null?user.title:''}",
		"mail": "${user.email!=null?user.email:''}",
		"mobile": "${user.customproperty2!=null?user.customproperty2:''}",
		"telephoneNumber": "${user.phonenumber!=null?user.phonenumber:''}",
		"streetAddress": "${user.street!=null?user.street:''}",
		"st": "${user.state!=null?user.state:''}",
		"postalCode": "${user.regioncode!=null?user.regioncode:''}",
		"co": "${user.country!=null?user.country:''}",
		"c": "${user.customproperty3!=null?user.customproperty3:''}",
		"l": "${user.city!=null?user.city:''}",
		"physicalDeliveryOfficeName": "${user.customproperty5!=null?user.customproperty5:''}",
		"userPrincipalName": "${user.username+'@cadevcloud.com'}",
		"manager":  "${manager.customproperty6!=null?manager.customproperty6:''}",
		"managerUPN": "${manager.username!=null?manager.username:''}",
		"company": "${user.customproperty4='Contingent Worker'?'':'Cambridge Associates'}",
"accountExpires":"${if((user.customproperty8!=null) && (user.customproperty4='Contingent Worker')){Calendar cal = Calendar.getInstance(TimeZone.getTimeZone('EST')); cal.setTime(Date.parse('yyyy-MM-dd',user.customproperty8.toString())); cal.add(Calendar.DAY_OF_MONTH, 1); cal.add(Calendar.HOUR_OF_DAY, 5); cal.set(Calendar.MINUTE, 0); cal.set(Calendar.SECOND, 0); cal.set(Calendar.MILLISECOND, 0); Date dat = cal.getTime(); return (dat.getTime()*10000L) + 116444736000000000L;} else {return '9223372036854775807'}}"
	}
}


====================================================
select customproperty19,username,DATE_FORMAT(startdate,"%Y-%m-%d") as startdate,curdate(),ADDDATE(curdate(), INTERVAL -15 DAY) as 'XYZ' from users where DATE_FORMAT(startdate,"%Y-%m-%d") > ADDDATE(curdate(), INTERVAL -15 DAY) and DATE_FORMAT(startdate,"%Y-%m-%d") < curdate() and USERNAME not like '%2' AND CUSTOMPROPERTY19 is null

You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '\"%Y-%m-%d\") > ADDDATE(curdate(), INTERVAL -15 DAY) and DATE_FORMAT(startdate,\' at line 1[m
=======================================



select distinct a.name from users u left join user_accounts ua on u.userkey=ua.userkey left join accounts a on ua.accountkey=a.accountkey where a.name=u.username or a.name=concat('NDA"


select distinct a.name from accounts a join user_accounts ua on a.accountkey=ua.accountkey join users u on ua.userkey=u.userkey where a.name=u.username or a.name=concat('NDA',u.lastname,substr(u.firstname,1,1))


(&(objectClass=group)(CN=TestAllowInteractiveLogin)),
(&(objectClass=group)(CN=TestDenyInteractiveLogin))

Name : PAM ADM Approval Email Template
To : kkrishna@cambridgeassociates.com
Cc :
Subject : Approval Notification - Action Required
Bcc :
From : CAIGANotifications-test@saviynt.com
-----------------------------------------------------------
1.	Update ENT – Manager Data Public to add IMDB Power User role, including adding the role to all existing users in the cost center to the IMDB Power User role
a.	Artifacts
2.	Pause WSRETRY and Workday Import jobs while updates to SAV_Users Report is being made
a.	No artifacts – just pausing/rescheduling jobs
3.	Update to CA IGA Users having more than one role in same Single Select application report to remove Optica Research & Operating Metrics roles that are not true single select applications
a.	Artifacts
4.	Update to CA IGA Users vs roles for Optica Research role to add PI Security Tool role and delete CA IGA Users vs roles for Optica Research PI Security Tool report
a.	Artifacts


--------------------------------------------------------------------
select hr.Name as 'Rule Name',hr.description 'Rule Description',hra.objectvalue from hanarule hr join hanaruleattribute hra on hr.hanarulekey=hra.hanarule where hra.conditionoraction like 'ACTN' and hr.type=2 and hra.objectname=21 and hr.name like 'CA_RBAC%'

RULE NAME	RULE DESCRIPTION	OBJECTVALUE
CA_RBAC - Location, Cost center and User Type		44,45,46,58,48,49,50,51,52
CA_RBAC - Location, Cost center and User Type - FeedFile import		44,45,46,58,48,49,50,51,52
CA_RBAC_Joiner_UUR		161,162,163
CA_RBAC_Joiner_UUR_Import		161,162,163
CA_RBAC_Mover_CostCenter_ExceptionTransferRule_Import		129,130,131
CA_RBAC_Mover_CostCenter_Rule_Import		161,162,163
CA_RBAC_Mover_CostCenter_Rule_UI		161,162,163
CA_RBAC_Mover_Provision_UUR_Import		129,130,131
CA_RBAC_Mover_Provision_UUR_UI		129,130,131
CA_RBAC_Mover_UserType		108,109

RqG9PerZTDK8d3cPWZi7

select hr.Name as 'Rule Name',hr.description 'Rule Description',hra.objectvalue from hanarule hr join hanaruleattribute hra on hr.hanarulekey=hra.hanarule where hra.conditionoraction like 'ACTN' and hr.type=2 and hra.objectname=21 and hr.name like 'CA_RBAC%'






SELECT 
    hr.Name AS 'Rule Name',
    SUBSTRING_INDEX(SUBSTRING_INDEX(hra.objectvalue, ',', numbers.n), ',', -1) AS 'Object Value'
FROM 
    hanarule hr
JOIN 
    hanaruleattribute hra ON hr.hanarulekey = hra.hanarule
JOIN
    (SELECT 1 n UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
     UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8
     UNION ALL SELECT 9 UNION ALL SELECT 10 UNION ALL SELECT 11 UNION ALL SELECT 12
     UNION ALL SELECT 13 UNION ALL SELECT 14 UNION ALL SELECT 15 UNION ALL SELECT 16
     UNION ALL SELECT 17 UNION ALL SELECT 18 UNION ALL SELECT 19 UNION ALL SELECT 20) numbers ON CHAR_LENGTH(hra.objectvalue) - CHAR_LENGTH(REPLACE(hra.objectvalue, ',', '')) >= numbers.n - 1
WHERE 
    hra.conditionoraction LIKE 'ACTN' 
    AND hr.type = 2 
    AND hra.objectname = 21 
    AND hr.name LIKE 'CA_RBAC%'
ORDER BY 
    hr.Name, hra.objectvalue, 'Object Value' ASC;
    
    
    SELECT hr.Name AS 'Rule Name', 
       TRIM(SUBSTRING(SUBSTRING_INDEX(hra.objectvalue, ',', numbers.n), 
       LENGTH(SUBSTRING_INDEX(hra.objectvalue, ',', numbers.n - 1)) + 2)) AS 'Object Value'
FROM hanarule hr 
JOIN hanaruleattribute hra ON hr.hanarulekey = hra.hanarule 
JOIN (SELECT 1 n UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
      UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8
      UNION ALL SELECT 9 UNION ALL SELECT 10) numbers ON CHAR_LENGTH(hra.objectvalue) - CHAR_LENGTH(REPLACE(hra.objectvalue, ',', '')) + 1 >= numbers.n 
WHERE hra.conditionoraction LIKE 'ACTN' 
      AND hr.type = 2 
      AND hra.objectname = 21 
      AND hr.name LIKE 'CA_RBAC%' 
ORDER BY hr.Name ASC, CAST(`Object Value` AS UNSIGNED) ASC;

----------------------------------------------

SELECT hr.Name AS 'RULE NAME', CAST(hra.objectvalue AS VARCHAR(10)) AS 'OBJECTVALUE'
FROM hanarule hr 
JOIN hanaruleattribute hra 
ON hr.hanarulekey=hra.hanarule 
WHERE hra.conditionoraction LIKE 'ACTN' 
AND hr.type=2 
AND hra.objectname=21 
AND hr.name LIKE 'CA_RBAC%'
ORDER BY hr.Name, hra.objectvalue

-----------------------------------------------------

Update Accounts set accounttype='Service Account' where endpointkey=40 and name like 'svc%';
INSERT INTO accountowners(accountkey, owneruserkey, rank, updatedate, updateuser) 
SELECT a.accountkey AS accountkey, u.userkey AS owneruserkey, '1' AS rank, Now() AS updatedate, '1' AS updateuser FROM accounts a LEFT JOIN users u ON a.customproperty36 = u.username WHERE a.endpointkey = 40 AND a.status IN ( 1, 'Manually Provisioned') AND a.customproperty36 is NOT NULL;
INSERT INTO accountowners(accountkey, owneruserkey, rank, updatedate, updateuser) 
SELECT a.accountkey AS accountkey, u.userkey AS owneruserkey, '26' AS rank, Now() AS updatedate, '1' AS updateuser FROM accounts a LEFT JOIN users u ON a.customproperty36 = u.username WHERE a.endpointkey = 40 AND a.status IN ( 1, 'Manually Provisioned') AND a.customproperty36 is NOT NULL




SELECT hr.Name AS 'RULE NAME', TRIM(REPLACE(SUBSTRING(hra.objectvalue, num, CHARINDEX(',', hra.objectvalue + ',', num) - num), ',', '')) AS 'OBJECTVALUE'
FROM hanarule hr 
JOIN hanaruleattribute hra 
ON hr.hanarulekey = hra.hanarule 
CROSS JOIN (
    SELECT number AS num
    FROM master.dbo.spt_values
    WHERE type = 'P' AND number <= LEN(hra.objectvalue) + 1
) AS n
WHERE hra.conditionoraction LIKE 'ACTN' 
AND hr.type = 2 
AND hra.objectname = 21 
AND hr.name LIKE 'CA_RBAC%'
AND SUBSTRING(',' + hra.objectvalue, num, 1) = ','
ORDER BY hr.Name, hra.objectvalue
------------------------------------------------------------



select u.username, u.displayname,u.email,e.endpointname,group_concat(r.role_name) as 'Role Names'from users u join role_user_account rua on u.userkey = rua.userkey join roles r on rua.rolekey = r.rolekey join endpoints e on r.endpointkey = e.endpointkey join accounts a on rua.accountkey=a.accountkey where a.status=1 and u.statuskey=1 and rua.accountkey in (select accountkey from accounts where endpointkey in (select distinct ek.endpointkey from endpoints ek where substring(ek.roletypeasjson,7,1)=1)) group by u.username,e.endpointname having count(*) > 1 order by u.username






USERNAME	DISPLAYNAME	EMAIL	ENDPOINTNAME	ROLE NAMES
gkhatri	Gaurav Khatri	gkhatri@cambridgeassociates.com	Brooklyn	Brooklyn Users,Brooklyn Users
gkhatri	Gaurav Khatri	gkhatri@cambridgeassociates.com	Vermilion_DB	Vermilion Operations Group,Vermilion Report Preparer,Vermilion Report Quality Checker
